dtmc
const int n;

rewards "Tosses"
	x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 & x<100 : 1;
endrewards

module M1
	x : [1..107] init 1;
	[step] x<100 & n=1 & x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 -> 1:(x'=x+1);
	[step] x<100 & n=2 & x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 -> 1/n:(x'=x+1) + 1/n:(x'=x+2);
	[step] x<100 & n=3 & x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 -> 1/n:(x'=x+1) + 1/n:(x'=x+2) + 1/n:(x'=x+3);
	[step] x<100 & n=4 & x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 -> 1/n:(x'=x+1) + 1/n:(x'=x+2) + 1/n:(x'=x+3) + 1/n:(x'=x+4);
	[step] x<100 & n=5 & x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 -> 1/n:(x'=x+1) + 1/n:(x'=x+2) + 1/n:(x'=x+3) + 1/n:(x'=x+4) + 1/n:(x'=x+5);
	[step] x<100 & n=6 & x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 -> 1/n:(x'=x+1) + 1/n:(x'=x+2) + 1/n:(x'=x+3) + 1/n:(x'=x+4) + 1/n:(x'=x+5) + 1/n:(x'=x+6);
	[step] x<100 & n=7 & x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 -> 1/n:(x'=x+1) + 1/n:(x'=x+2) + 1/n:(x'=x+3) + 1/n:(x'=x+4) + 1/n:(x'=x+5) + 1/n:(x'=x+6) + 1/n:(x'=x+7);
	[step] x<100 & n=8 & x!=25 & x!=34 & x!=47 & x!=65 & x!=87 & x!=91 & x!=99 & x!=3 & x!=6 & x!=20 & x!=36 & x!=63 & x!=68 -> 1/n:(x'=x+1) + 1/n:(x'=x+2) + 1/n:(x'=x+3) + 1/n:(x'=x+4) + 1/n:(x'=x+5) + 1/n:(x'=x+6) + 1/n:(x'=x+7) + 1/n:(x'=x+8);
	[] x=100 -> 1:(x' = x);

	//Rollback from >100 down
	[] x>100 -> 1:(x' = 200-x);
	
	//Snakes
	[] x=25 -> 1:(x'=5);
	[] x=34 -> 1:(x'=1);
	[] x=47 -> 1:(x'=19);
	[] x=65 -> 1:(x'=52);
	[] x=87 -> 1:(x'=57);
	[] x=91 -> 1:(x'=61);
	[] x=99 -> 1:(x'=69);

	//Ladders
	[] x=3 -> 1:(x'=51);
	[] x=6 -> 1:(x'=27);
	[] x=20 -> 1:(x'=70);
	[] x=36 -> 1:(x'=55);
	[] x=63 -> 1:(x'=95);
	[] x=68 -> 1:(x'=98);
endmodule

module M2
	step : [0..101] init 0;
	[step] step>100 -> 1:(step'=step);
	[step] step<=100 -> 1:(step'=step+1);
endmodule